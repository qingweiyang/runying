<!-- 主页面 -->

<!-- 面包屑导航 -->
<ul class="breadcrumb">
  <li>
   <a href="#">订单查看</a>
  </li>
  <li class="active">
     订单详情
  </li>
</ul>


<div class="panel panel-success table-panel">
  <!-- Default panel contents -->
  <div class="panel-heading">
    <!-- 表格的筛选操作 -->
    <div class="row clearfix">
      
      <!-- 表格select筛选 -->
      <div>
        <div class="col-md-1 column form-pre-des">
          名称
        </div>
        <div class="col-md-2 column">
          <select class="form-control">
            <option>Enter</option>
            <option>Your</option>
            <option>Options</option>
            <option>Here!</option>
          </select>
        </div>
      </div>

      <div class="col-md-3 col-md-offset-5">
        <div class="input-group">
          <input type="text" class="form-control" placeholder="输入关键字进行搜索...">
          <span class="input-group-btn">
            <button class="btn btn-default" type="button">搜索</button>
          </span>
        </div><!-- /input-group -->
      </div><!-- /.col-lg-6 -->
    </div>
  </div>

  <table id="all-orders-table" class="table table-hover table-bordered">
    <thead>
      <tr class="active">
        <th>订单ID</th>
        <th>合同号</th>
        <th>产品名</th>
        <th>下达日期</th>
        <th>交货日期</th>
        <th>计划数</th>
        <th>已完成数</th>
        <th>录入时间</th>
        <th>录入员</th>
        <th>订单状态</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>
</div>

<!-- 分页 -->
<nav>
  <ul class="pagination">
  </ul>
</nav>

<script src="../plugins/js/page_division.js"></script>  
<script type="text/javascript">

  $(document).ready(function() {
    showAllOrders(1, countPerPage);

  });

 
  function showAllOrders(currentPage, countPerPage) {
    var param = {};
    param.currentPage = currentPage;
    param.countPerPage = countPerPage;
    $.get(
      "getAllOrders.do",
      param,
      function(data) {
        var text = "";
        $.each(data.rows, function(i, item) {
        	var releaseTime = getFormatDateByLong(item.releaseTime, "yyyy-MM-dd");
        	var deliveryTime = getFormatDateByLong(item.deliveryTime, "yyyy-MM-dd");
        	var systemTime = getFormatDateByLong(item.systemTime, "yyyy-MM-dd hh:mm:ss");
        	var status = "";
        	if(item.status == 0) {
        		status = '<span class="label label-primary">已删除</span> ';
        	}
        	if(item.status == 1) {
        		status = '<span class="label label-primary">未进行生产计划</span> ';
        	}
        	if(item.status == 2) {
        		status = '<span class="label label-primary">已进行生产计划</span> ';
        	}
        	if(item.status == 2) {
        		status = '<span class="label label-primary">已进行生产计划</span> ';
        	}
        	if(item.status == 3) {
        		status = '<span class="label label-primary">已入库</span> ';
        	}
        	if(item.status == 4) {
        		status = '<span class="label label-primary">发货中</span> ';
        	}
        	if(item.status == 5) {
        		status = '<span class="label label-primary">已完成</span> ';
        	}
        	
            text += "<tr><td>"+item.id+"</td>"+
                      "<td>"+item.contractNumber+"</td>"+
                      "<td>"+item.materialName+"</td>"+
                      "<td>"+releaseTime+"</td>"+
                      "<td>"+deliveryTime+"</td>"+
                      "<td>"+item.count+"</td>"+
                      "<td>"+item.hasFinished+"</td>"+
                      "<td>"+systemTime+"</td>"+
                      "<td>"+item.operator+"</td>"+
                      "<td>"+status+"</td>"+
                      "</tr>";
        });
        $("#all-orders-table tbody").html(text);
        pageDivision(data.pages, currentPage);
      });
  }

</script>